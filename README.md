# refactor bsq リファクタリングドキュメント

## プログラム`bsq`の処理フロー

プログラム`bsq`は, 入力されたファイルについて以下の処理を行う:

1. ファイルの中身から**マップ**データを作成する
2. マップから**最大正方形**(biggest square)を探し出す
3. マップの最大長方形にあたる箇所をマーキングする
4. マップ全体を表示する

この一連の流れを**BSQ セッション**と呼ぶことにする。

プログラム`bsq`は 2 通りの入力を取る。

1 つ以上のコマンドライン引数が渡された場合は, それぞれの引数をファイル名と解釈し, 各ファイルについて BSQ セッションを実施する。

コマンドライン引数がない場合は標準入力からデータが渡されるとし, そのデータに対して BSQ セッションを実施する。

## おおまかな構造

- 関数`main`は, プログラムに渡されたコマンドライン引数に応じて, 適切な方法で`bsq_run_session`に FD を渡す。
- 関数`bsq_run_session`は, 渡された FD を元に BSQ セッションを行う。
